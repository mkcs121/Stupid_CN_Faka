<style>
    .cke{
        z-index: 999;
    }
</style>
<form class="layui-form layui-box" style='padding:25px 30px 20px 0' action="__SELF__"  data-auto="true" method="post">


    <div class="layui-form-item">
        <label class="layui-form-label">标题</label>
        <div class="layui-input-block">
            <input type="text" name="title" value="{$article.title|default=''}" required="required" title="请输入文章标题" placeholder="请输入文章标题" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">缩略图</label>
        <div class="layui-input-block">
            <img data-tips-image style="height:auto;max-height:32px;min-width:32px" src="{$article.img|default=''}" />
            <input type="hidden" name="img" onchange="$(this).prev('img').attr('src', this.value)"
                   value="{$article.img|default=''}" class="layui-input">
            <a class="btn btn-link" data-file="one" data-type="jpg,jpeg,gif,png" data-field="img">上传图片</a>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">所需积分</label>
        <div class="layui-input-block">
            <input type="text" name="money" value="{$article.money|default=''}" required="required" title="请输入所需积分" placeholder="请输入所需积分" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">剩余数量</label>
        <div class="layui-input-block">
            <input type="text" name="counts" value="{$article.counts|default=''}" required="required" title="请输入剩余数量" placeholder="请输入剩余数量" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">描述</label>
        <div class="layui-input-block">
            <textarea name="content" id="" cols="30" rows="5" class="layui-textarea">{$article.content|default=''}</textarea>
        </div>
    </div>
    

    <div class="hr-line-dashed"></div>

    <div class="layui-form-item">
        <label class="layui-form-label"></label>
        <input type="hidden" name="id" value="{$article.id|default='0'}">
        <button class="layui-btn" type="submit">保存</button>
    </div>

</form>

<script>
    // layui.use('form', function(){
    //     var form = layui.form; //只有执行了这一步，部分表单元素才会自动修饰成功
    //     form.render();
    // });
    require(['ckeditor'], function () {
        var editor = window.createEditor('[name="content"]');
        // 获取内容
        var content = editor.getData();
        console.log(content);
    });

    // $.form.href("{:url('index')}");
</script>